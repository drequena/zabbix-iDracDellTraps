Dell iDRAC TRAPs Zabbix Template.
============

Disclaimer: English is not my native language, so if you think that you can contribute with this translation, fell free to comment and submit a "patch".

1. About
---
This is a Zabbix template that handles TRAPs generated by iDRAC boards from DELL.

This template has been tested on iDRACs version 6, 7 and 8 from servers: Dell Power Edge R410, R420 and R430.

2. Assumptions
---
* Snmptt

I'm assuming that you already configured your server to handle TRAPs with SNMPTT software. (http://http://snmptt.sourceforge.net/), in case you didn't, use this article as a starting point: (https://www.zabbix.com/documentation/2.4/manual/config/items/itemtypes/snmptrap)

* iDRAC

I'm assuming that you already enabled your iDRAC board to generate SNMP TRAPs.

**warining:** This template **DOESN'T** generate alerts for INFORMATIONAL TRAPs, so, it's up to you configure your iDRAC to send only WARNING and CRITICAL TRAPs, otherwise, you will receive a lot of "Unmatched TRAPs" alerts.

* Zabbix

I'm assuming that the iDRAC *host* added on Zabbix have a **IP Address** as the main identification, not a HOSTNAME. This is very important, since, for some reason I can't explain, if you use a HOSTNAME as the ID, Zabbix will not match the TRAP with the *host* and will write on Log file: "unmatched trap received from..."


3. How to use.
---
Clone the repository and copy the file named *iDRAC-430.conf* to /etc/snmp

     git clone https://github.com/drequena/zabbix-iDracDellTraps

 Configure snmptt to use the file as a iDRAC TRAP classifier.

    vim /etc/snmp/snmptt.ini
    ...
    snmptt_conf_files = <<END
    /etc/snmp/iDRAC-430.conf
    /etc/snmp/snmptt.conf
    END

 Restart the service:

     systemctl restart snmptt

 Import the XML template to Zabbix and associate it to a iDRAC host.

4. Configuring Alerts.
---
 It is possible to configure how much time the Alerts will be active for WARNING, CRITICAL e UNMATCHED TRAPs with MACROS:

* {$CRITICAL_TIMEOUT} (default: 3600 seconds)
* {$WARNING_TIMEOUT} (default: 1800 seconds)
* {$UNMATCHED_TIMEOUT} (default: 600 seconds)
